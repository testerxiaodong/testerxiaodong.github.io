[{"content":"Emmet è¯­æ³• Emmetè¯­æ³•ç”¨äºå¿«é€Ÿç¼–å†™htmlæ ‡ç­¾ä¸cssæ ·å¼\nå¿«é€Ÿç”Ÿæˆ html ç»“æ„ ç”Ÿæˆç½‘é¡µéª¨æ¶ï¼šhtml: 5 ç”Ÿæˆæ ‡ç­¾ï¼šè¾“å…¥æ ‡ç­¾åï¼ŒæŒ‰ä¸‹tabé”® ç”Ÿæˆå¤šä¸ªç›¸åŒæ ‡ç­¾ï¼šè¾“å…¥æ ‡ç­¾å*numberï¼ŒæŒ‰ä¸‹tabé”® ç”Ÿæˆçˆ¶å­å…³ç³»æ ‡ç­¾ï¼šè¾“å…¥æ ‡ç­¾å\u0026gt;æ ‡ç­¾åï¼ŒæŒ‰ä¸‹tabé”® ç”Ÿæˆå…„å¼Ÿå…³ç³»æ ‡ç­¾ï¼šè¾“å…¥æ ‡ç­¾å+æ ‡ç­¾åï¼ŒæŒ‰ä¸‹tabé”® ç”Ÿæˆå¸¦ç±»åçš„ï¼šè¾“å…¥æ ‡ç­¾å#classnameæˆ–è€…æ ‡ç­¾å.classnameï¼ŒæŒ‰ä¸‹tabé”® ç±»åè‡ªå¢ å¿«é€Ÿç”Ÿæˆ css æ ·å¼ é€šè¿‡å•è¯ç¼©å†™å¿«é€Ÿç”Ÿæˆ css æ ·å¼å±æ€§å€¼\nCSS å¤åˆé€‰æ‹©å™¨ å¤åˆé€‰æ‹©å™¨å¯ä»¥æ›´å‡†ç¡®ã€é«˜æ•ˆå®šä½å…ƒç´ \né€šè¿‡ä¸¤ä¸ªæˆ–è€…å¤šä¸ª``åŸºç¡€é€‰æ‹©å™¨ç»„æˆ\nå¤åˆé€‰æ‹©å™¨ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š\nåä»£é€‰æ‹©å™¨ å­é€‰æ‹©å™¨ å¹¶é›†é€‰æ‹©å™¨ ä¼ªç±»é€‰æ‹©å™¨ åä»£é€‰æ‹©å™¨ åä»£é€‰æ‹©å™¨é€‰æ‹©çš„æ˜¯çˆ¶å…ƒç´ é‡Œçš„åä»£å…ƒç´ \næ ¼å¼ï¼šæ ‡ç­¾1 æ ‡ç­¾2 ... æ ‡ç­¾n { æ ·å¼å£°æ˜ }\næ—¢å¯ä»¥é€‰æ‹©å­©å­ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©å­™å­ã€‚\né€‰æ‹©å™¨å¯ä»¥æ˜¯ä»»æ„åŸºç¡€é€‰æ‹©å™¨çš„ç»„åˆ\n.nav ol li\nå­é€‰æ‹©å™¨ å­é€‰æ‹©å™¨é€‰æ‹©çš„æ˜¯çˆ¶å…ƒç´ é‡Œçš„å­å…ƒç´ \næ ¼å¼ï¼šçˆ¶å…ƒç´ \u0026gt;å­å…ƒç´  { æ ·å¼å£°æ˜ }\nå¹¶é›†é€‰æ‹©å™¨ å¹¶é›†é€‰æ‹©å™¨å¯ä»¥é€‰æ‹©å¤šç»„æ ‡ç­¾ï¼Œä¸ºä»–ä»¬è®¾å®šç›¸åŒçš„æ ·å¼\næ ¼å¼ï¼šå…ƒç´ 1, å…ƒç´ 2, ... å…ƒç´ n { æ ·å¼å£°æ˜ }\nä¼ªç±»é€‰æ‹©å™¨ ä¼ªç±»é€‰æ‹©å™¨å¯ä»¥ç»™æŸäº›é€‰æ‹©å™¨æ·»åŠ ç‰¹æ®Šæ•ˆæœ(é“¾æ¥)ï¼Œæˆ–è€…ç”¨äºé€‰æ‹©ç¬¬1ä¸ªæˆ–è€…ç¬¬nä¸ªå…ƒç´ \né“¾æ¥ä¼ªç±»é€‰æ‹©å™¨ é“¾æ¥ä¼ªç±»é€‰æ‹©å™¨ç§ç±»ï¼š\na:link(æœªè®¿é—®) a:visited(å·²è®¿é—®) a:hover(é¼ æ ‡ç»è¿‡) a:active(é¼ æ ‡ç‚¹å‡»ä½†æœªæŠ¬èµ·) æ³¨æ„äº‹é¡¹ï¼š\nå¿…é¡»æŒ‰ç…§lvhaé¡ºåºç¼–å†™é“¾æ¥ä¼ªç±»é€‰æ‹©å™¨\nfocus ä¼ªç±»é€‰æ‹©å™¨ focusä¼ªç±»é€‰æ‹©å™¨ç”¨äºé€‰æ‹©è·å¾—ç„¦ç‚¹çš„è¡¨å•å…ƒç´ \næ ¼å¼ï¼šinput:focus { æ ·å¼å£°æ˜ }\nCSS å…ƒç´ æ˜¾ç¤ºæ¨¡å¼ å—å…ƒç´  å¸¸è§çš„å—å…ƒç´ æœ‰ï¼šh1-h6ã€pã€divã€ulã€olã€li ç­‰\nå—å…ƒç´ `ç‹¬å ä¸€è¡Œ`` å¯ä»¥å¯¹å—å…ƒç´ çš„å®½ã€é«˜ã€å†…å¤–é—´è·è¿›è¡Œè®¾ç½® é»˜è®¤å®½åº¦ä¸ºçˆ¶å…ƒç´ çš„å®½åº¦ å—å…ƒç´ å†…éƒ¨å¯ä»¥æ”¾å…¶ä»–è¡Œå†…å…ƒç´ /å—å…ƒç´  æ–‡æœ¬å—å…ƒç´ (pã€h1-h6)å†…éƒ¨ä¸èƒ½æ”¾ç½®å—å…ƒç´  è¡Œå†…å…ƒç´  å¸¸è§çš„è¡Œå†…å…ƒç´ æœ‰ï¼šaã€æ–‡æœ¬æ ¼å¼åŒ–æ ‡ç­¾ã€span\nå¤šä¸ªè¡Œå†…å…ƒç´ ä¸€è¡Œå±•ç¤º ä¸å¯ä»¥ç›´æ¥å¯¹è¡Œå†…å…ƒç´ è¿›è¡Œå®½ã€é«˜è®¾ç½® è¡Œå†…å…ƒç´ é»˜è®¤å®½åº¦ä¸ºå†…å®¹çš„å®½åº¦ è¡Œå†…å…ƒç´ å†…éƒ¨å¯ä»¥æ”¾æ–‡æœ¬æˆ–å…¶ä»–è¡Œå†…å…ƒç´  \u0026lt;a\u0026gt;\u0026lt;/a\u0026gt;æ ‡ç­¾å†…éƒ¨ä¸èƒ½æ”¾ç½®\u0026lt;a\u0026gt;\u0026lt;/a\u0026gt; ç‰¹æ®Šæƒ…å†µ\u0026lt;a\u0026gt;\u0026lt;/a\u0026gt;å†…éƒ¨å¯ä»¥æ”¾å—å…ƒç´  è¡Œå†…å—å…ƒç´  å¸¸è§çš„è¡Œå†…å—å…ƒç´ æœ‰ï¼šimgã€inputã€tdï¼ŒåŒæ—¶å…·æœ‰è¡Œå†…å…ƒç´ å’Œå—å…ƒç´ çš„ç‰¹ç‚¹ï¼š\nå¤šä¸ªä¸€è¡Œå±•ç¤º å¯ä»¥è®¾ç½®å®½å’Œé«˜ é»˜è®¤å®½åº¦ä¸ºå†…å®¹å®½åº¦ æ˜¾ç¤ºæ¨¡å¼è½¬æ¢ å¢åŠ \u0026lt;a\u0026gt;\u0026lt;/a\u0026gt;é“¾æ¥è§¦å‘èŒƒå›´\ndisplay: bolck; display: inline; display: inline-block; CSS èƒŒæ™¯ CSSèƒŒæ™¯ç”¨äºè®¾ç½®èƒŒæ™¯é¢œè‰²ã€å›¾ç‰‡ã€å¹³é“ºã€å›¾ç‰‡ä½ç½®ã€å›¾ç‰‡å›ºå®š\nèƒŒæ™¯é¢œè‰² é€šè¿‡background-colorè®¾ç½®\ntransparent(é»˜è®¤å€¼) å’Œæ–‡æœ¬colorä¸€æ · èƒŒæ™¯å›¾ç‰‡ é€šè¿‡background-imageè®¾ç½®ï¼Œå°å›¾ç‰‡ä¸€èˆ¬é€šè¿‡èƒŒæ™¯å›¾ç‰‡è®¾ç½®\næ—¢å¯ä»¥è®¾ç½®èƒŒæ™¯å›¾ç‰‡ï¼Œä¹Ÿå¯ä»¥è®¾ç½®èƒŒæ™¯é¢œè‰²ï¼ŒèƒŒæ™¯å›¾ç‰‡ä¼šå‹ä½èƒŒæ™¯é¢œè‰²\nnone url() èƒŒæ™¯å¹³é“º èƒŒæ™¯å¹³é“ºå°±æ˜¯èƒŒæ™¯å›¾ç‰‡é‡å¤å±•ç¤ºï¼Œé€šè¿‡background-repeatè®¾ç½®\nno-repeat repeat(é»˜è®¤å€¼) repeat-x repeat-y èƒŒæ™¯ä½ç½® background-position: x y;å±æ€§å¯ä»¥æ”¹å˜èƒŒæ™¯å›¾ç‰‡çš„ä½ç½®\næ–¹ä½åè¯ï¼šbackground-position: left top;ï¼Œå¯ä»¥çœç•¥ä¸€ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°å±…ä¸­ ç²¾å‡†å•ä½ï¼šbackground-position: x y; æ··åˆå•ä½ï¼šä¸¥æ ¼é¡ºåºï¼Œç¬¬ä¸€ä¸ªä¸ºxï¼Œç¬¬äºŒä¸ªä¸ºy èƒŒæ™¯å›ºå®š background-attchmentç”¨äºè®¾ç½®èƒŒæ™¯å›¾ç‰‡æ˜¯éšç€é¡µé¢æ»šåŠ¨ï¼Œè¿˜æ˜¯éšç€é¡µé¢å›ºå®š\nscroll(é»˜è®¤å€¼) fixed èƒŒæ™¯å¤åˆå†™æ³• background: èƒŒæ™¯é¢œè‰² èƒŒæ™¯å›¾ç‰‡ èƒŒæ™¯å¹³é“º èƒŒæ™¯å›¾ç‰‡æ»šåŠ¨ èƒŒæ™¯å›¾ç‰‡ä½ç½®;\nèƒŒæ™¯é¢œè‰²åŠé€æ˜ rgba(0, 0, 0, 0.3)ï¼Œa çš„å–å€¼èŒƒå›´ä¸º 0-1ï¼Œè¶Šå°è¶Šæ·¡.\nCSS ä¸‰å¤§ç‰¹æ€§ å±‚å æ€§ ç»§æ‰¿æ€§ ä¼˜å…ˆçº§ å±‚å æ€§ ä¸ºäº†è§£å†³æ ·å¼å†²çªï¼Œå°±è¿‘åŸåˆ™\nç»§æ‰¿æ€§ å­æ ‡ç­¾ç»§æ‰¿çˆ¶æ ‡ç­¾çš„æŸäº›æ ·å¼ï¼šæ–‡æœ¬é¢œè‰²å’Œå­—å·/(text-ã€font-ã€line-ã€color)\nline-heightå¯ä»¥ä¸è®¾ç½®å•ä½ï¼Œæœ€ç»ˆæ˜¾ç¤ºå½“å‰å…ƒç´ ``æ–‡å­—å¤§å°çš„å€æ•°ï¼šfont: 12px/1.5 'Microsoft YaHei'\nä¼˜å…ˆçº§ å½“ç»™åŒä¸€ä¸ªå…ƒç´ æŒ‡å®šå¤šä¸ªé€‰æ‹©å™¨åï¼Œå°±ä¼šæœ‰ä¼˜å…ˆçº§äº§ç”Ÿ\né€‰æ‹©å™¨ç›¸åŒï¼šæ‰§è¡Œå±‚å è¡Œ é€‰æ‹©å™¨ä¸åŒï¼šæ‰§è¡Œä¼˜å…ˆçº§ é€‰æ‹©å™¨ é€‰æ‹©å™¨æƒé‡ ç»§æ‰¿æˆ–è€…* 0,0,0,0 æ ‡ç­¾é€‰æ‹©å™¨ 0,0,0,1 ç±»é€‰æ‹©å™¨ã€ä¼ªç±»é€‰æ‹©å™¨ 0,0,1,0 id é€‰æ‹©å™¨ 0,1,0,0 è¡Œå†…æ ·å¼ 1,0,0,0 !important +âˆ æ³¨æ„äº‹é¡¹ï¼š\næƒé‡è®¡ç®—æœ‰å››ä½ï¼Œä½†æ˜¯ä¸ä¼šè¿›ä½ ä»å·¦è‡³å³åˆ¤æ–­ æƒé‡å åŠ  ","date":"2024-04-02T18:04:46+08:00","permalink":"https://www.cengdong.store/p/%E5%89%8D%E7%AB%AFcss%E4%B8%8B/","title":"ã€å‰ç«¯ã€‘CSSä¸‹"},{"content":"CSS ç®€ä»‹ HTML å±€é™æ€§ ç”¨htmlä¿®æ”¹ç½‘é¡µå¤–è§‚ä»£ä»·å¤ªå¤§\nCSS çš„ä½œç”¨ CSS(Cascading style sheets)ç”¨äºè¿›è¡Œç½‘é¡µå¸ƒå±€\nç”¨äºæ”¹å˜æ–‡å­—ã€å›¾ç‰‡ã€ç½‘é¡µå¸ƒå±€ã€å¤–è§‚\nCSS è¯­æ³•è§„èŒƒ æ„æˆ é€‰æ‹©å™¨ + ä¸€ä¸ªæˆ–è€…å¤šä¸ªå£°æ˜ï¼šå±æ€§: å€¼;\nä¹¦å†™ä½ç½® å†…éƒ¨æ ·å¼è¡¨ï¼š\u0026lt;head\u0026gt;\u0026lt;/head\u0026gt;æ ‡ç­¾ä¸­ï¼Œç”¨\u0026lt;style\u0026gt;\u0026lt;/style\u0026gt;æ ‡ç­¾å£°æ˜ è¡Œå†…æ ·å¼è¡¨ï¼šæ ‡ç­¾å†…éƒ¨styleå±æ€§ï¼Œstyle=\u0026quot;key: value; key: value\u0026quot; å¤–éƒ¨æ ·å¼è¡¨(æ¨è)ï¼š\u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;æ–‡ä»¶è·¯å¾„\u0026quot;\u0026gt; è§„èŒƒ ä¸€èˆ¬é‡‡ç”¨åˆ†æ•£å¼ï¼šä¸€è¡Œè®¾ç½®ä¸€ä¸ªå±æ€§å€¼ é€‰æ‹©å™¨ä¸æ‹¬å·ã€å±æ€§ key/value ä¹‹é—´éœ€è¦ä¸€ä¸ªç©ºæ ¼ CSS é€‰æ‹©å™¨ é€‰æ‹©å™¨çš„ä½œç”¨ é€‰å‡ºéœ€æ±‚çš„æ ‡ç­¾\né€‰æ‹©å™¨åˆ†ç±» åŸºç¡€é€‰æ‹©å™¨ æ ‡ç­¾é€‰æ‹©å™¨ id é€‰æ‹©å™¨ class é€‰æ‹©å™¨ é€šé…ç¬¦é€‰æ‹©å™¨ å¤åˆé€‰æ‹©å™¨ é€‰æ‹©å™¨ä½¿ç”¨æ–¹å¼ åŸºç¡€é€‰æ‹©å™¨ ä½œç”¨ ç‰¹ç‚¹ ä½¿ç”¨æƒ…å†µ ç”¨æ³• æ ‡ç­¾é€‰æ‹©å™¨ é€‰å‡ºæ‰€æœ‰ç›¸åŒæ ‡ç­¾ ä¸èƒ½å·®å¼‚åŒ–é€‰æ‹© è¾ƒå¤š p {color: red;} ç±»é€‰æ‹©å™¨ é€‰å‡ºä¸€ä¸ªæˆ–å¤šä¸ªæ ‡ç­¾ å¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹© éå¸¸å¤š .nav {color: red;} id é€‰æ‹©å™¨ ä¸€æ¬¡åªèƒ½é€‰æ‹©ä¸€ä¸ªæ ‡ç­¾ id å…·æœ‰å”¯ä¸€æ€§ ä¸€èˆ¬å’Œ js æ­é…ä½¿ç”¨ #red {color: red;} é€šé…ç¬¦é€‰æ‹©å™¨ é€‰æ‹©æ‰€æœ‰æ ‡ç­¾ ä¸€èˆ¬ç”¨äºè®¾ç½®ç›’å­é—´è· ç‰¹æ®Šæƒ…å†µä½¿ç”¨ * {color: red;} class å¤šç±»å ä¸€ä¸ªæ ‡ç­¾å¯ä»¥ä½¿ç”¨å¤šä¸ªç±»é€‰æ‹©å™¨å®šä¹‰çš„css æ ·å¼ï¼Œå¤šä¸ªç±»åä¹‹é—´ä½¿ç”¨ç©ºæ ¼åˆ†éš”\n\u0026lt;a href=\u0026quot;https://www.baidu.com\u0026quot; class=\u0026quot;red green\u0026quot;\u0026gt;ç™¾åº¦ä¸€ä¸‹ï¼Œä½ å°±çŸ¥é“\u0026lt;/a\u0026gt;\nå­—ä½“å±æ€§ CSS å­—ä½“å±æ€§ç”¨äºå®šä¹‰å­—ä½“ç³»åˆ—ã€å¤§å°ã€ç²—ç»†ã€æ–‡å­—æ ·å¼\nfont-family font-familyç”¨äºç»™å­—ä½“è®¾ç½®ç³»åˆ—\nå¤šç§å­—ä½“ä¹‹é—´ä½¿ç”¨é€—å·åˆ†éš”ï¼Œä»å·¦è‡³å³ä¾æ¬¡åŒ¹é…\næœ‰ç©ºæ ¼åˆ†å¼€çš„å¤šä¸ªå•è¯ç»„æˆçš„å­—ä½“ï¼Œä½¿ç”¨å•å¼•å·åŒ…è£¹\nfont-size/line-height font-sizeç”¨äºè®¾ç½®å­—ä½“å¤§å°ï¼Œå¿…é¡»ä½¿ç”¨å•ä½px\nline-heightç”¨äºè®¾ç½®è¡Œé«˜\næ–‡å­—å‚ç›´å±…ä¸­çš„æŠ€å·§ï¼šline-heightç­‰äºå…ƒç´ é«˜åº¦\nå¯ä»¥ç»™\u0026lt;body\u0026gt;\u0026lt;/body\u0026gt;æ ‡ç­¾è®¾ç½®æ•´ä¸ª html æ–‡æ¡£çš„å­—ä½“å¤§å°\næ ‡é¢˜æ ‡ç­¾åº”ä½¿ç”¨é¢å¤–æ ·å¼è®¾ç½®å­—ä½“å¤§å°\nfont-weight font-weightç”¨äºç»™å­—ä½“è®¾ç½®ç²—ç»†ï¼Œå€¼å¯ä»¥è®¾ç½®ä»¥ä¸‹å‡ ç§ï¼š\nnormal(é»˜è®¤ï¼Œ400) bold(ç²—ä½“ï¼Œ700) bolder(ç‰¹ç²—ä½“) lighter(ç»†ä½“) number(100-900)ï¼Œä¸èƒ½è·Ÿå•ä½ font-style font-styleç”¨äºè®¾ç½®å­—ä½“æ ·å¼ï¼Œæœ‰ä»¥ä¸‹å±æ€§å€¼ï¼š\nnormal italic(æ–œä½“) å¤åˆå±æ€§ å¤åˆå±æ€§é€šè¿‡fontå±æ€§è®¾ç½®\nfont: font-style font-weight font-size/line-height font-family\nå¿…é¡»ä¸¥æ ¼æŒ‰ç…§é¡ºåºä¹¦å†™\nfont-sizeä¸font-familyå¿…é¡»è®¾ç½®ï¼Œå…¶ä»–å¯ä»¥çœç•¥\næ–‡æœ¬å±æ€§ color colorå±æ€§ç”¨äºè®¾ç½®æ ‡ç­¾å†…å­—ä½“é¢œè‰²\né¢œè‰²æœ‰ä¸‰ç§è¡¨ç¤ºæ–¹å¼\nè‹±è¯­å•è¯(redã€green ç­‰) #16 è¿›åˆ¶è¡¨ç¤º(ç”¨çš„æœ€å¤š) rgb è¡¨ç¤º text-align text-alignç”¨äºè®¾ç½®æ–‡æœ¬å¯¹é½æ–¹å¼ï¼Œæœ‰ä»¥ä¸‹ä¸‰ç§å€¼ï¼š\ncenter left(é»˜è®¤å€¼) right text-decoration text-decorationç”¨äºè®¾ç½®æ–‡æœ¬è£…é¥°ï¼Œæœ‰ä»¥ä¸‹å››ç§å€¼ï¼š\nnone underline overline line-through text-indent text-indentç”¨äºè®¾ç½®æ–‡æœ¬ç¼©è¿›ï¼Œå•ä½æ˜¯ px/emï¼Œ1em ç­‰äºä¸€ä¸ªæ–‡å­—å¤§å°\np {text-indent: 2em;}\næ³¨æ„ï¼Œåªç¼©è¿›é¦–è¡Œ\nline-height line-heightç”¨äºè®¾ç½®æ–‡å­—è¡Œé—´è·ç¦»\nline-height = font-size + ä¸Šé—´è· + ä¸‹é—´è·ï¼Œä¸Šä¸‹é—´è·ç›¸ç­‰\n","date":"2024-04-01T18:40:44+08:00","permalink":"https://www.cengdong.store/p/%E5%89%8D%E7%AB%AFcss/","title":"ã€å‰ç«¯ã€‘CSS"},{"content":"è¡¨æ ¼æ ‡ç­¾ è¡¨æ ¼çš„ä½œç”¨ è¡¨æ ¼æ ‡ç­¾ç”¨äºå±•ç¤ºæ•°æ®\n\u0026lt;table\u0026gt;\u0026lt;/table\u0026gt;æ ‡ç­¾å®šä¹‰ä¸€ä¸ªè¡¨æ ¼\n\u0026lt;tr\u0026gt;\u0026lt;/tr\u0026gt;æ ‡ç­¾è¡¨ç¤ºä¸€è¡Œ(table row)\n\u0026lt;td\u0026gt;\u0026lt;/td\u0026gt;æ ‡ç­¾è¡¨ç¤ºä¸€ä¸ªå•å…ƒæ ¼(table data)\n\u0026lt;th\u0026gt;\u0026lt;/th\u0026gt;æ ‡ç­¾è¡¨ç¤ºè¡¨å¤´å•å…ƒæ ¼(table header)ï¼Œå†…å®¹ä¼šåŠ ç²—å±…ä¸­å±•ç¤º\nè¡¨æ ¼å±æ€§ alignï¼šå¯¹é½æ–¹å¼ borderï¼šè¾¹æ¡† cellpaddingï¼šè¾¹ç¼˜ä¸å†…å®¹ä¹‹é—´çš„è·ç¦»(é»˜è®¤ 1 åƒç´ ) cellspacingï¼šå•å…ƒæ ¼ä¹‹é—´çš„è·ç¦»(é»˜è®¤ 2 åƒç´ ) widthï¼šè¡¨æ ¼å®½åº¦ è¡¨æ ¼æ ‡ç­¾ç»“æ„ \u0026lt;table\u0026gt;\u0026lt;/table\u0026gt; \u0026lt;thead\u0026gt;\u0026lt;/thead\u0026gt; \u0026lt;tbody\u0026gt;\u0026lt;/tbody\u0026gt; åˆå¹¶å•å…ƒæ ¼ åˆå¹¶å•å…ƒæ ¼æ–¹å¼ï¼š\nè·¨è¡Œåˆå¹¶ï¼šrowspan=\u0026ldquo;ä¸ªæ•°\u0026rdquo; è·¨åˆ—åˆå¹¶ï¼šcolspan=\u0026ldquo;ä¸ªæ•°\u0026rdquo; åˆ—è¡¨æ ‡ç­¾ åˆ—è¡¨çš„ä½œç”¨ åˆ—è¡¨æ ‡ç­¾ç”¨äºå¸ƒå±€\nåˆ—è¡¨åˆ†ç±» æ— åºåˆ—è¡¨ï¼š\u0026lt;ul\u0026gt;\u0026lt;/ul\u0026gt;ã€\u0026lt;li\u0026gt;\u0026lt;/li\u0026gt; æœ‰åºåˆ—è¡¨ï¼š\u0026lt;ol\u0026gt;\u0026lt;/ol\u0026gt;ã€\u0026lt;li\u0026gt;\u0026lt;/li\u0026gt; è‡ªå®šä¹‰åˆ—è¡¨ï¼š\u0026lt;dl\u0026gt;\u0026lt;/dl\u0026gt;ã€\u0026lt;dt\u0026gt;\u0026lt;/dt\u0026gt;ã€\u0026lt;dd\u0026gt;\u0026lt;/dd\u0026gt; è‡ªå®šä¹‰åˆ—è¡¨ç”¨äºå¯¹åè¯æˆ–è€…ä¸“ä¸šæœ¯è¯­è¿›è¡Œè§£é‡Š\nè¡¨å•æ ‡ç­¾ è¡¨å•çš„ä½œç”¨ è¡¨å•æ ‡ç­¾ç”¨äºæ”¶é›†ç”¨æˆ·ä¿¡æ¯\nè¡¨å•ç»„æˆ è¡¨å•åŸŸï¼š\u0026lt;form\u0026gt;\u0026lt;/form\u0026gt; è¡¨å•æ§ä»¶ï¼šè¡¨å•å…ƒç´  æç¤ºä¿¡æ¯ï¼š è¡¨å•åŸŸå±æ€§ actionï¼šæäº¤åœ°å€ methodï¼šæäº¤æ–¹å¼(get/post) name: è¡¨å•åŸŸåç§° input è¡¨å•å…ƒç´  input å…ƒç´ ä½œç”¨ input å…ƒç´ ç”¨äºæ”¶é›†ç”¨æˆ·ä¿¡æ¯\ninput æ ‡ç­¾å±æ€§ typeï¼š buttonï¼šæŒ‰é’® cehckboxï¼šå¤é€‰æ¡† fileï¼šæ–‡ä»¶é€‰æ‹© hiddenï¼šéšè— imageï¼šå›¾ç‰‡ passwordï¼šå¯†ç  textï¼šæ–‡æœ¬ radioï¼šå•é€‰æ¡† reset é‡ç½®æŒ‰é’® submitï¼šæäº¤æŒ‰é’® nameï¼šnameæ˜¯è¡¨å•çš„åå­—ï¼Œå•é€‰æ¡†å¿…é¡»æœ‰ç›¸åŒçš„åå­—æ‰å¯ä»¥å®ç°å¤šé€‰ä¸€ valueï¼šè¡¨å•çš„é»˜è®¤å€¼ï¼Œä½¿ç”¨placeholderæ›´å¥½ checkedï¼šè§„å®š input å…ƒç´ é¦–æ¬¡åŠ è½½æ—¶è‡ªåŠ¨è¢«é€‰ä¸­ maxlengthï¼šè¾“å…¥å­—æ®µä¸­å­—ç¬¦æœ€å¤§é•¿åº¦ label æ ‡ç­¾ label æ ‡ç­¾ç”¨äº input èšç„¦\né€šè¿‡labelæ ‡ç­¾çš„forå±æ€§ä¸inputæ ‡ç­¾çš„idå±æ€§\n\u0026lt;lable for=\u0026quot;sex\u0026quot;\u0026gt;ç”·\u0026lt;/lable\u0026gt; \u0026lt;input type=\u0026quot;radio\u0026quot; id=\u0026quot;sex\u0026quot;/\u0026gt;\nselect ä¸‹æ‹‰è¡¨å•å…ƒç´  ä¸‹æ‹‰è¡¨å•å…ƒç´ çš„ä½œç”¨ å¦‚æœæœ‰å¤šä¸ªé€‰é¡¹æä¾›ç”¨æˆ·é€‰æ‹©ï¼ŒèŠ‚çº¦ç©ºé—´\næ ‡ç­¾ 1 2 3 4 5 \u0026lt;select\u0026gt; \u0026lt;option\u0026gt;é€‰é¡¹1\u0026lt;/option\u0026gt; \u0026lt;option\u0026gt;é€‰é¡¹2\u0026lt;/option\u0026gt; \u0026lt;option\u0026gt;é€‰é¡¹3\u0026lt;/option\u0026gt; \u0026lt;/select\u0026gt; å±æ€§ optionæ ‡ç­¾æœ‰ä¸€ä¸ªselected=\u0026quot;selected\u0026quot;å±æ€§ï¼Œè¡¨ç¤ºé»˜è®¤é€‰ä¸­\ntextarea æ–‡æœ¬åŸŸå…ƒç´  textarea ä½¿ç”¨åœºæ™¯ å½“ç”¨æˆ·è¦è¾“å…¥çš„å†…å®¹æ¯”è¾ƒå¤šæ—¶ï¼Œä¸åº”ä½¿ç”¨textç±»å‹çš„inputæ ‡ç­¾ï¼Œè€Œæ˜¯åº”è¯¥ä½¿ç”¨textareaæ ‡ç­¾\n","date":"2024-04-01T14:36:49+08:00","permalink":"https://www.cengdong.store/p/%E5%89%8D%E7%AB%AFhtml%E6%A0%87%E7%AD%BE%E4%B8%8B/","title":"ã€å‰ç«¯ã€‘HTMLæ ‡ç­¾ä¸‹"},{"content":"æµè§ˆå™¨å†…æ ¸ æµè§ˆå™¨å†…æ ¸å°±æ˜¯æµè§ˆå™¨çš„æ¸²æŸ“å¼•æ“ï¼Œç›®å‰å¼•æ“åˆ†ç±»ï¼š\næµè§ˆå™¨ å†…æ ¸ IE Trident firefox Gecko safari Webkit chrome/opera Blink Web æ ‡å‡† W3C ä¸»è¦åŒ…æ‹¬ï¼šç»“æ„(HTML)ã€è¡¨ç°(CSS)ã€è¡Œä¸º(JAVASCRIPT)ä¸‰ä¸ªéƒ¨åˆ†ã€‚\nWEB æ ‡å‡†æå‡ºçš„æœ€ä½³è§£å†³æ–¹æ¡ˆï¼šç»“æ„ã€æ ·å¼ã€è¡Œä¸ºç›¸åˆ†ç¦»ã€‚\nHtml è¯­æ³•è§„èŒƒ æ ‡ç­¾ä¸€èˆ¬æˆå¯¹å‡ºç°ï¼Œä¹Ÿæœ‰å•æ ‡ç­¾ æ ‡ç­¾ä¹‹é—´çš„å…³ç³»ï¼šåŒ…å«/å¹¶åˆ— Html åŸºæœ¬ç»“æ„æ ‡ç­¾ \u0026lt;html\u0026gt;\u0026lt;/html\u0026gt;æ ‡ç­¾ \u0026lt;head\u0026gt;\u0026lt;/head\u0026gt;æ ‡ç­¾ \u0026lt;meta\u0026gt;æ ‡ç­¾ \u0026lt;title\u0026gt;\u0026lt;/title\u0026gt;æ ‡ç­¾ \u0026lt;body\u0026gt;\u0026lt;/body\u0026gt;æ ‡ç­¾ html å¸¸ç”¨æ ‡ç­¾ æ ‡é¢˜æ ‡ç­¾ h1-h6 åˆ†åˆ«ä»£è¡¨ä¸åŒçº§åˆ«æ ‡é¢˜\næ®µè½æ ‡ç­¾ \u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;æ ‡ç­¾è¡¨ç¤ºä¸€ä¸ªæ®µè½\næ¢è¡Œæ ‡ç­¾ \u0026lt;br/\u0026gt;æ ‡ç­¾è¡¨ç¤ºæ¢è¡Œ\nç©ºæ ¼ \u0026amp;nbsp;è¡¨ç¤ºç©ºæ ¼\næ–‡æœ¬æ ¼å¼åŒ–æ ‡ç­¾ ç²—ä½“ï¼š\u0026lt;b\u0026gt;\u0026lt;/b\u0026gt;æˆ–è€…\u0026lt;strong\u0026gt;\u0026lt;/strong\u0026gt; å€¾æ–œï¼š\u0026lt;em\u0026gt;\u0026lt;/em\u0026gt;æˆ–è€…\u0026lt;i\u0026gt;\u0026lt;/i\u0026gt; åˆ é™¤çº¿ï¼š\u0026lt;del\u0026gt;\u0026lt;/del\u0026gt;æˆ–è€…\u0026lt;s\u0026gt;\u0026lt;/s\u0026gt; ä¸‹åˆ’çº¿ï¼š\u0026lt;ins\u0026gt;\u0026lt;/ins\u0026gt;æˆ–è€…\u0026lt;u\u0026gt;\u0026lt;/u\u0026gt; ç›’å­æ ‡ç­¾ \u0026lt;div\u0026gt;\u0026lt;/div\u0026gt;æ ‡ç­¾ï¼Œç‹¬å ä¸€è¡Œ \u0026lt;span\u0026gt;\u0026lt;/span\u0026gt;æ ‡ç­¾ï¼Œå¤šä¸ªåœ¨åŒä¸€è¡Œå±•ç¤º å›¾åƒæ ‡ç­¾ \u0026lt;img/\u0026gt;æ ‡ç­¾è¡¨ç¤ºä¸€å¼ å›¾ç‰‡ï¼Œæ˜¯ä¸€ä¸ªå•æ ‡ç­¾\nå›¾åƒæ ‡ç­¾çš„å±æ€§ï¼š\nsrcï¼šå›¾ç‰‡è·¯å¾„ titleï¼šå›¾ç‰‡æ ‡é¢˜ï¼Œæç¤ºæ–‡æœ¬ altï¼šæ›¿æ¢æ–‡æœ¬(å›¾ç‰‡å±•ç¤ºä¸äº†æ—¶çš„æ–‡æœ¬) widthï¼šå›¾ç‰‡å®½åº¦ heightï¼šå›¾ç‰‡é«˜åº¦ borderï¼šå›¾ç‰‡è¾¹æ¡† è¶…é“¾æ¥æ ‡ç­¾ \u0026lt;a\u0026gt;\u0026lt;/a\u0026gt;æ ‡ç­¾è¡¨ç¤ºä¸€ä¸ªè¶…é“¾æ¥\nè¶…é“¾æ¥æ ‡ç­¾çš„å±æ€§ï¼š\nhrefï¼šé“¾æ¥çš„åœ°å€ targetï¼šä»¥ä½•ç§æ–¹å¼æ‰“å¼€ï¼š_self(é»˜è®¤)ã€_blank è¶…é“¾æ¥çš„ç§ç±»ï¼š\nå¤–éƒ¨é“¾æ¥ï¼šè·³è½¬åˆ°å¤–éƒ¨ç½‘ç«™ å†…éƒ¨é“¾æ¥ï¼šè·³è½¬åˆ°å†…éƒ¨ html é¡µé¢ ç©ºé“¾æ¥ï¼šhref=\u0026quot;#\u0026quot; ä¸‹è½½é“¾æ¥ï¼šåœ°å€é“¾æ¥çš„æ˜¯æ–‡ä»¶ ç½‘é¡µå…ƒç´ é“¾æ¥ï¼šä¸ºç½‘é¡µå…ƒç´ æ·»åŠ è¶…é“¾æ¥ï¼šæ–‡æœ¬ã€å›¾ç‰‡ã€è¡¨æ ¼ã€éŸ³é¢‘ã€è§†é¢‘ é”šç‚¹é“¾æ¥ï¼šhref=\u0026quot;#id\u0026quot; æ³¨é‡Šæ ‡ç­¾ä¸ç‰¹æ®Šå­—ç¬¦ \u0026lt;!-- æ³¨é‡Š --\u0026gt;è¿›è¡Œæ³¨é‡Š\nç‰¹æ®Šå­—ç¬¦ï¼š\nç©ºæ ¼ï¼š\u0026amp;nbsp; å¤§äºï¼š\u0026amp;gt; å°äºï¼š\u0026amp;lt; ","date":"2024-04-01T10:04:06+08:00","permalink":"https://www.cengdong.store/p/%E5%89%8D%E7%AB%AFhtml%E6%A0%87%E7%AD%BE/","title":"ã€å‰ç«¯ã€‘HTMLæ ‡ç­¾"},{"content":"é€šè¿‡dockerå®‰è£…gitlab å®‰è£…gitlabï¼Œä½ èµ·ç éœ€è¦ä¸€å°2c4gçš„æœåŠ¡å™¨ï¼Œgitlabä¾èµ–å¾ˆå¤šå¾ˆé‡çš„ç»„ä»¶ï¼Œæˆ‘çš„ç¯å¢ƒæ˜¯ä¸€å°2c4gçš„è™šæ‹Ÿæœº\næŒ‚è½½ä¸‰ä¸ªç›®å½•ï¼š/etc/gitlabã€/var/log/gitlabã€/var/opt/gitlab\næ˜ å°„ä¸‰ä¸ªç«¯å£ï¼š443/httpsã€80/httpã€22/ssh\n443ç«¯å£å¦‚æœä¸ç”¨åˆ°è¯ä¹¦ä¸éœ€è¦æŒ‚è½½\n1 2 3 4 5 docker run -d -p 443:443 -p 80:80 -p 222:22 --name gitlab \\ --restart always -v ~/data/gitlab/config:/etc/gitlab \\ -v ~/data/gitlab/logs:/var/log/gitlab \\ -v ~/data/gitlab/data:/var/opt/gitlab \\ gitlab/gitlab-ce ç­‰å¾…å‡ åˆ†é’Ÿä¹‹åï¼Œé€šè¿‡ç½‘ç«™è®¿é—®gitlabï¼Œç”¨æˆ·åä¸ºadminï¼Œå¯†ç æŒ‚è½½åœ¨/Users/cengdong/data/gitlab/configç›®å½•ä¸‹\nä¿®æ”¹gitlabé…ç½® ç¼–è¾‘æŒ‚è½½çš„é…ç½®ç›®å½•ï¼š/Users/cengdong/data/gitlab/config/gitlab.rb\ngitlabçš„é…ç½®é¡¹éå¸¸å¤šï¼Œåªä¿®æ”¹ä¸€é¡¹å°±èƒ½æ»¡è¶³åŸºæœ¬éœ€æ±‚ï¼šexternal_url 'http://192.168.184.9'\né‡å¯å®¹å™¨docker restart gitlabæˆ–è€…è¿›å…¥å®¹å™¨é€šè¿‡gitlab-ctl reconfigureå‘½ä»¤ä½¿é…ç½®ç”Ÿæ•ˆ\né€šè¿‡dockerå®‰è£…gitlab-runner gitlab-runnerä¸å»ºè®®ä¸gitlabå®‰è£…åœ¨åŒä¸€å°æœåŠ¡å™¨ä¸Š\næŒ‚è½½å®¹å™¨è¿è¡Œæ—¶ä»¥åŠé…ç½®æ–‡ä»¶ 1 2 3 4 docker run -d --name gitlab-runner --restart always \\ -v ~/data/gitlab-runner/config:/etc/gitlab-runner \\ -v /var/run/docker.sock:/var/run/docker.sock \\ gitlab/gitlab-runner éäº¤äº’å¼æ³¨å†Œrunner æœ‰ä¸‰ç§ç±»å‹çš„runnerï¼šsharedã€groupã€specific\nå…¨å±€ç±»å‹runneræ‰€æœ‰äººéƒ½èƒ½ç”¨ï¼Œç»„ç±»å‹runneråªæœ‰ç»„å†…äººèƒ½ç”¨ï¼Œç‰¹æ®Šrunneråªæœ‰å½“å‰é¡¹ç›®èƒ½ç”¨\nåœ¨ä¸åŒåœ°æ–¹çš„settings-\u0026gt;cicdä¸­å¯ä»¥æŸ¥çœ‹ä¸åŒçš„token\nrunneræœ‰å¾ˆå¤šç±»å‹çš„æ‰§è¡Œå™¨ï¼Œå¸¸ç”¨çš„æœ‰shellã€dockerã€k8sï¼Œé€šè¿‡--execuotrå‚æ•°æŒ‡å®š\n1 2 3 4 5 6 7 8 9 10 docker run --rm -v ~/data/gitlab-runner/config:/etc/gitlab-runner gitlab/gitlab-runner register \\ --non-interactive\\ --executor \u0026#34;docker\u0026#34; \\ --docker-image alpine\u0026#34;latest \\ --url \u0026#34;http://192.168.184.9\u0026#34; \\ --registeration-token \u0026#34;your token\u0026#34; \\ --description \u0026#34;test \\ --tag-list \u0026#34;build\u0026#34; \\ --run-untagged=\u0026#34;true\u0026#34; \\ --locked=\u0026#34;false\u0026#34; ä¿®æ”¹gitlab-runneré…ç½® ä¿®æ”¹ï½/data/gitlab-runner/config/config.tomlæ–‡ä»¶concurrent = 10\nconcurrentæ§åˆ¶ä¸€ä¸ªstageèƒ½æœ€å¤šåŒæ—¶æ‰§è¡Œå¤šå°‘ä¸ªjobï¼Œé»˜è®¤ä¸º1çš„æƒ…å†µä¸‹å¦‚æœä¸€ä¸ªstageæœ‰å¤šä¸ªjobæ— æ³•å¹¶å‘æ‰§è¡Œ\nåœ¨[runners.docker]é¡¹ä¸‹é¢æ·»åŠ pull_policy = if-not-presentï¼Œå¦åˆ™æ¯æ¬¡éƒ½éœ€è¦æ‹‰å–é•œåƒ\nè¿è¡Œæµæ°´çº¿ ç°åœ¨ï¼Œä½ å¯ä»¥æ„‰å¿«çš„è¿è¡Œæµæ°´çº¿äº†ã€‚é€šè¿‡åˆ›å»ºæˆ–è€…å¯¼å…¥é¡¹ç›®ï¼Œåœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»º.gitlab-ci.ymlæ–‡ä»¶\né€šè¿‡pipelineè¯­æ³•æ§åˆ¶æµæ°´çº¿çš„æµç¨‹\n","date":"2024-03-28T04:20:36+08:00","permalink":"https://www.cengdong.store/p/devopsgitlabci%E5%AE%9E%E8%B7%B5/","title":"ã€Devopsã€‘GitLabCIå®è·µ"},{"content":"1. å¬åŠ›çŸ­å¥ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 August is coming to an end. å…«æœˆå°±è¦ç»“æŸäº†ã€‚ How old is this temple? è¿™åº§å¯ºåº™æœ‰å¤šå¤è€ï¼Ÿ Please don\u0026#39;t call me after ten è¯·ä¸è¦åœ¨åç‚¹ä»¥åç»™æˆ‘æ‰“ç”µè¯ï¼ You are going to wait for a little bit. ä½ è¦ç¨å¾®ç­‰ä¸€ä¸‹ã€‚ The boy didn\u0026#39;t change his mind. ç”·å­©æ²¡æœ‰æ”¹å˜ä»–çš„æƒ³æ³•ã€‚ I\u0026#39;m sorry, but I can\u0026#39;t accept such an expensive gift. å¯¹ä¸èµ·ï¼Œæˆ‘ä¸èƒ½æ¥å—è¿™ä¹ˆè´µé‡çš„ç¤¼ç‰©ã€‚ On Thursday we went to the poor. å‘¨å››ï¼Œæˆ‘ä»¬å»äº†æ¸¸æ³³æ± ã€‚ Monday Tuesday Wednesday Thursday Friday Saturday Sunday I\u0026#39;m talking to a friend. æˆ‘æ­£åœ¨å’Œæœ‹å‹è°ˆè¯ã€‚ Your plan is good, but my is better. ä½ çš„è®¡åˆ’ä¸é”™ï¼Œä½†æˆ‘çš„æ›´å¥½ã€‚ I fell into a trap. æˆ‘æ‰è¿›äº†ä¸€ä¸ªé™·é˜±ã€‚ trapï¼šé™·é˜± Cut the cake with this knife. ç”¨è¿™æŠŠåˆ€åˆ‡è›‹ç³•ã€‚ knifeï¼šåˆ€ It may sound strange, but it is true. è¿™å¬èµ·æ¥å¾ˆå¥‡æ€ªï¼Œä½†ä»–æ˜¯çœŸçš„ã€‚ He doesn\u0026#39;t know anything yet. ä»–è¿˜ä»€ä¹ˆéƒ½ä¸çŸ¥é“ã€‚ He is thinking about something else. ä»–åœ¨æ€è€ƒå…¶ä»–çš„äº‹æƒ…ã€‚ The room is clean and comfortable. æˆ¿é—´æ•´æ´åˆèˆ’é€‚ã€‚ We\u0026#39;ll make our announcement on Thursday. æˆ‘ä»¬å°†åœ¨å‘¨å››å®£å¸ƒã€‚ announcementï¼šå®£å¸ƒï¼Œå£°æ˜ Have you chosen a name for the babyï¼Ÿ ä½ ä¸ºå­©å­èµ·å¥½åå­—äº†å—ï¼Ÿ chosen/choiceï¼šé€‰æ‹© Have you forgotten about your promise? ä½ å¿˜è®°ä½ çš„æ‰¿è¯ºäº†å—ï¼Ÿpromiseï¼šæ‰¿è¯º proposeï¼šæ±‚å©š Tom was blindfolded and taken out of the house. æ±¤å§†è¢«è’™ä¸Šçœ¼ç›ï¼Œå¸¦å‡ºäº†æˆ¿å­ã€‚ blindï¼šå¤±æ˜ blindfoldï¼šè¢«é®ä½ A short walk will bring you to the station. èµ°ä¸€å°æ®µè·¯ä½ å°±èƒ½åˆ°è¾¾è½¦ç«™ã€‚ 2. å­¦åˆ°çš„çŸ¥è¯†ç‚¹ ç”Ÿè¯ï¼š templeï¼šå¯ºåº™ trapï¼šé™·é˜± announcement: å®£å¸ƒã€å£°æ˜ blindfoldï¼šè¢«é®ä½ çŸ­è¯­ï¼š fell into: æ‰è¿› fell into love withï¼šçˆ±ä¸ŠæŸäºº wait for a little bitï¼šç­‰ä¸€ä¼šå„¿ ","date":"2023-09-30T22:44:05+08:00","permalink":"https://www.cengdong.store/p/english%E8%8B%B1%E8%AF%AD%E5%AD%A6%E4%B9%A0day1/","title":"ã€Englishã€‘è‹±è¯­å­¦ä¹ Day1"},{"content":"1. go-zeroåˆ†å¸ƒå¼é”å®ç° çœ‹ä¸‹go-zeroä¸­redisåˆ†å¸ƒå¼é”çš„å®ç°\n1 2 3 4 5 6 7 8 9 10 11 12 13 var ( lockScript = NewScript(`if redis.call(\u0026#34;GET\u0026#34;, KEYS[1]) == ARGV[1] then redis.call(\u0026#34;SET\u0026#34;, KEYS[1], ARGV[1], \u0026#34;PX\u0026#34;, ARGV[2]) return \u0026#34;OK\u0026#34; else return redis.call(\u0026#34;SET\u0026#34;, KEYS[1], ARGV[1], \u0026#34;NX\u0026#34;, \u0026#34;PX\u0026#34;, ARGV[2]) end`) delScript = NewScript(`if redis.call(\u0026#34;GET\u0026#34;, KEYS[1]) == ARGV[1] then return redis.call(\u0026#34;DEL\u0026#34;, KEYS[1]) else return 0 end`) ) åŠ é”å’Œè§£é”çš„è¿‡ç¨‹éƒ½æ˜¯é€šè¿‡luaè„šæœ¬å®ç°çš„ï¼Œå› ä¸ºluaè„šæœ¬èƒ½å¤Ÿä¿è¯redisçš„åŸå­æ€§ã€‚\n2. åˆ†å¸ƒå¼é”å¿…é¡»æ‹¥æœ‰çš„å±æ€§ æ’ä»–æ€§(åªèƒ½æœ‰ä¸€ä¸ªåç¨‹æŒæœ‰) å¯é‡å…¥(å·²ç»è·å–é”çš„åç¨‹èƒ½å†æ¬¡è®¿é—®) é˜²æ­»é”(å¿…é¡»æœ‰è¶…æ—¶æ—¶é—´ï¼Œè¾¾åˆ°åæŒæœ‰è€…è‡ªåŠ¨é‡Šæ”¾) é«˜æ€§èƒ½é«˜å¯ç”¨ 3. go-zeroåˆ†å¸ƒå¼é”åŠ é”æµç¨‹ 1 2 3 4 5 6 7 8 # åˆ¤æ–­ARGV[1]æ˜¯å¦ç­‰äºKEY[1]çš„å€¼ # å¦‚æœç›¸ç­‰ï¼Œè¯´æ˜æ˜¯è¯¥é”çš„æŒæœ‰è€…é‡å…¥ï¼Œæ›´æ–°é”çš„è¿‡æœŸæ—¶é—´ï¼Œè¿”å›OK # å¦‚æœä¸æƒ³ç­‰ï¼Œè¯´æ˜é”ä¸å­˜åœ¨æˆ–è€…è¯¥ç”¨æˆ·ä¸æ˜¯é”çš„æŒæœ‰è€…ï¼Œç”¨set nx pxå‘½ä»¤æ“ä½œè¯¥key lockScript = NewScript(`if redis.call(\u0026#34;GET\u0026#34;, KEYS[1]) == ARGV[1] then redis.call(\u0026#34;SET\u0026#34;, KEYS[1], ARGV[1], \u0026#34;PX\u0026#34;, ARGV[2]) return \u0026#34;OK\u0026#34; else return redis.call(\u0026#34;SET\u0026#34;, KEYS[1], ARGV[1], \u0026#34;NX\u0026#34;, \u0026#34;PX\u0026#34;, ARGV[2]) 4. go-zeroåˆ†å¸ƒå¼é”è§£é”æµç¨‹ 1 2 3 4 5 6 7 # åˆ¤æ–­ARGV[1]æ˜¯å¦ç­‰äºKEY[1]çš„å€¼ # å¦‚æœç›¸ç­‰ï¼Œè¯´æ˜æ˜¯é”çš„æ‹¥æœ‰è€…ï¼Œåˆ é™¤åˆ†å¸ƒå¼é”çš„KEY # å¦‚æœä¸æƒ³ç­‰ï¼Œè¯´æ˜ä¸æ˜¯é”çš„æ‹¥æœ‰è€…ï¼Œè¿”å›0 delScript = NewScript(`if redis.call(\u0026#34;GET\u0026#34;, KEYS[1]) == ARGV[1] then return redis.call(\u0026#34;DEL\u0026#34;, KEYS[1]) else return 0 ","date":"2023-09-28T09:30:39+08:00","permalink":"https://www.cengdong.store/p/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%88%A9%E7%94%A8redis%E5%AE%9E%E7%8E%B0%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/","title":"ã€åˆ†å¸ƒå¼é”ã€‘åˆ©ç”¨Rediså®ç°åˆ†å¸ƒå¼é”"},{"content":"1. èµ·å›  æœ€è¿‘åœ¨å­¦ä¹ go-zeroï¼Œç”¨go-zeroè‡ªå¸¦çš„sqlx+sqlcæ“ä½œæ•°æ®åº“ã€‚å› ä¸ºsqlx+sqlcä¸ä¼šåƒgormä¸€æ ·è‡ªåŠ¨ç®¡ç†è½¯åˆ é™¤å­—æ®µï¼Œæ‰€ä»¥å¯¹è¡¨ç»“æ„è¿›è¡Œé‡æ–°çš„è®¾è®¡ã€‚ ä¸‹é¢æ˜¯æ–°çš„è¡¨ç»“æ„ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 DROP TABLE IF EXISTS `user`; CREATE TABLE `user` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT \u0026#39;ç”¨æˆ·id\u0026#39;, `username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT \u0026#39;ç”¨æˆ·å\u0026#39;, `password` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT \u0026#39;å¯†ç \u0026#39;, `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT \u0026#39;åˆ›å»ºæ—¶é—´\u0026#39;, `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT \u0026#39;æ›´æ–°æ—¶é—´\u0026#39;, `delete_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT \u0026#39;åˆ é™¤æ—¶é—´\u0026#39;, `is_delete` tinyint unsigned NOT NULL DEFAULT \u0026#39;0\u0026#39; COMMENT \u0026#39;æ˜¯å¦è¢«åˆ é™¤\u0026#39;, `version` bigint unsigned NOT NULL DEFAULT \u0026#39;0\u0026#39; COMMENT \u0026#39;ç‰ˆæœ¬å·\u0026#39;, PRIMARY KEY (`id`), UNIQUE KEY `idx_username` (`username`,`is_delete`) USING BTREE ) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT=\u0026#39;ç”¨æˆ·è®°å½•\u0026#39;; ä¸šåŠ¡ä¸Šéœ€è¦usernameä¸Šè¿™ä¸ªå”¯ä¸€ç´¢å¼•ï¼ŒåŒæ—¶å½“ä¸šåŠ¡éœ€è¦åˆ é™¤æ•°æ®æ—¶åªèƒ½è½¯åˆ é™¤ï¼Œæ–¹ä¾¿æ•°æ®æº¯æºä¸æ¢å¤ã€‚\n2. é‡åˆ°çš„é—®é¢˜ å½“æ—¶åªè€ƒè™‘åˆ°ä¸šåŠ¡è¯­ä¹‰ä¸Šusernameéœ€è¦å”¯ä¸€ç´¢å¼•ï¼Œå†™å®Œä»£ç åç”¨postmanè¿›è¡Œæµ‹è¯•ï¼Œæ’å…¥ä¸€æ¡æ•°æ®ï¼Œå†åˆ é™¤è¿™æ¡æ•°æ®ã€‚å†æ’å…¥ä¸€æ¡ç›¸åŒç”¨æˆ·åçš„æ•°æ®æ—¶ï¼Œ æ¥å£æŠ¥é”™å”¯ä¸€ç´¢å¼•å†²çªã€‚å‚è€ƒgo-zeroå¾®ä¿¡ç¾¤çš„å»ºè®®ï¼Œç»™è½¯åˆ é™¤å­—æ®µis_deleteä¹ŸåŠ ä¸Šå”¯ä¸€ç´¢å¼•ã€‚æ’å…¥ä¸€æ¡æ•°æ®ï¼Œå†åˆ é™¤è¿™æ¡æ•°æ®ã€‚å†æ’å…¥ä¸€æ¡ç›¸åŒç”¨æˆ·åçš„æ•°æ®ï¼Œ å†åˆ é™¤è¿™æ¡æ•°æ®æ—¶ï¼Œæ¥å£è¿˜æ˜¯æŠ¥é”™å”¯ä¸€ç´¢å¼•å†²çªã€‚\n3. å†åŠ ç´¢å¼• ç¾¤é‡Œç«‹é©¬åˆæœ‰å¤§ä½¬è¯´è¿˜éœ€è¦ç»™åˆ é™¤æ—¶é—´åŠ ä¸Šå”¯ä¸€ç´¢å¼•ï¼Œå› ä¸ºåˆ é™¤æ—¶ä¸šåŠ¡ä¸Šä¼šæŠŠåˆ é™¤æ—¶é—´æ›´æ–°ä¸ºå½“å‰æ—¶é—´ï¼Œä¸ä¼šæœ‰å†²çªã€‚ä¸€é¡¿æ“ä½œä¸‹æ¥ï¼Œå°±ç»™ä¸‰ä¸ªå­—æ®µåŠ ä¸Šäº†å”¯ä¸€ç´¢å¼•ã€‚ ä¸ªäººæ„Ÿè§‰è¿™ä¸ªç´¢å¼•è¿˜æ˜¯æœ‰ç‚¹å¤§ï¼Œåˆå»ç½‘ä¸Šæ‰¾äº†ä¸å°‘ç›¸å…³åšå®¢ã€‚é¦–å…ˆç¡®å®šçš„æ˜¯ï¼š\næœ‰å”¯ä¸€ç´¢å¼•éœ€è¦çš„å­—æ®µå¿…é¡»åŠ ä¸Šå”¯ä¸€ç´¢å¼•ï¼Œä¸èƒ½å› ä¸ºä¸šåŠ¡ä¸Šæœ‰æ ¡éªŒå°±åˆ é™¤è¯¥ç´¢å¼•ã€‚ åŒæ—¶åˆ é™¤æ•°æ®æ—¶åº”è¯¥ä½¿ç”¨è½¯åˆ é™¤ã€‚ ä½†æ˜¯æœ‰ä¸€ç‚¹å¯ä»¥ä¼˜åŒ–ï¼Œå°±æ˜¯æ ‡è®°è½¯åˆ é™¤çš„å­—æ®µä¸å¿…åªæ˜¯0å’Œ1ï¼Œå½“åˆ é™¤æ•°æ®æ—¶ï¼Œæ›´æ–°è¯¥å­—æ®µä¸ºè¯¥è®°å½•çš„ä¸»é”®å€¼ã€‚ 4. åˆé‡åˆ°é—®é¢˜ å› ä¸ºgo-zeroçš„æ•°æ®åº“æ“ä½œä»£ç æ˜¯é ä»£ç ç”Ÿæˆçš„ï¼Œä¼šæ ¹æ®ç´¢å¼•å­—æ®µè‡ªåŠ¨ç”Ÿæˆæ–¹æ³•åï¼Œå½“æœ‰å”¯ä¸€ç´¢å¼•éœ€æ±‚æ˜¯ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„æ–¹æ³•åä¼šå¸¦ä¸Šç´¢å¼•çš„æ‰€æœ‰å­—æ®µï¼ŒåŒ…æ‹¬ è½¯åˆ é™¤å­—æ®µï¼Œæ–¹æ³•åæ ¼å¤–å°´å°¬ä¸è¯´ï¼Œå†…éƒ¨ç”Ÿæˆçš„ä»£ç è¿˜å¤šåˆ¤æ–­äº†ä¸€æ¬¡is_delete = 0ï¼Œè¯·æ•™äº†looklooké¡¹ç›®ä½œè€…ï¼Œè¿™ç§éœ€è¦fork go-zeroæºä»£ç å†è‡ªå·±è¿›è¡Œé­”æ”¹ã€‚\n","date":"2023-09-28T08:37:51+08:00","permalink":"https://www.cengdong.store/p/mysql%E8%A7%A3%E5%86%B3%E8%BD%AF%E5%88%A0%E9%99%A4%E4%B8%AD%E7%9A%84%E5%94%AF%E4%B8%80%E7%B4%A2%E5%BC%95%E9%97%AE%E9%A2%98/","title":"ã€MySQLã€‘è§£å†³è½¯åˆ é™¤ä¸­çš„å”¯ä¸€ç´¢å¼•é—®é¢˜"},{"content":"1. éœ€æ±‚ éœ€è¦æŠŠmysqlçš„æ•°æ®èšåˆåŒæ­¥åˆ°esä»¥æä¾›æµ·é‡æ•°æ®æ£€ç´¢èƒ½åŠ›\n2. è§£å†³æ–¹æ¡ˆ å˜æ›´mysqlæ•°æ®æ—¶åŒæ­¥è°ƒç”¨esçš„api å˜æ›´mysqlæ•°æ®æ—¶å¼‚æ­¥è°ƒç”¨esçš„api(å…ˆå‘é€æ¶ˆæ¯åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæœç´¢å¾®æœåŠ¡è°ƒç”¨esçš„apiæ¶ˆè´¹æ•°æ®) canalç›‘å¬mysqlçš„binlogæ—¥å¿—ï¼Œå†åŒæ­¥åˆ°es flink-cdcç›‘å¬mysqlçš„binlogæ—¥å¿—åŒæ­¥åˆ°es 3. é€‰ç”¨æ–¹æ¡ˆ æœ€ç»ˆé€‰æ‹©flink-cdcçš„æ–¹æ¡ˆï¼Œä¸€æ˜¯go-canalçš„ä»“åº“ä¸æ´»è·ƒï¼Œå°±ä¸‰ä¸ªissueï¼Œæäº†bugä¹Ÿæ²¡äººä¿®ï¼Œè€Œä¸”åç»­å¯èƒ½æœ‰å®æ—¶åˆ†æçš„å¤§æ•°æ®éœ€æ±‚ï¼Œæœ¬èº«å°±æœ‰flinké›†ç¾¤çš„éœ€æ±‚ã€‚ äºŒæ˜¯canalçš„releaseç‰ˆæœ¬è¦æœ€è¿‘æ‰ä¼šæ›´æ–°ï¼Œæœ€åä¸€æ¬¡æ›´æ–°æ˜¯21å¹´4æœˆï¼Œå®³æ€•çƒ‚å°¾ã€‚ä¸‰æ˜¯ä¿ºå°è¯•éƒ¨ç½²canalï¼Œæœ€åå¤±è´¥äº†ğŸ’¦ã€‚\n4. éƒ¨ç½²ç¯å¢ƒ é€‰ç”¨docker-composeéƒ¨ç½²mysqlã€linkä¸elasticsearch\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 version: \u0026#39;3\u0026#39; services: elasticsearch: image: docker.elastic.co/elasticsearch/elasticsearch:7.17.13 container_name: elasticsearch user: root environment: - discovery.type=single-node - \u0026#34;ES_JAVA_OPTS=-Xms512m -Xmx512m\u0026#34; - TZ=Asia/Shanghai volumes: - ./data/elasticsearch/data:/usr/share/elasticsearch/data restart: always ports: - \u0026#34;9200:9200\u0026#34; - \u0026#34;9300:9300\u0026#34; networks: - douyin_net kibana: image: docker.elastic.co/kibana/kibana:7.17.13 container_name: kibana environment: - elasticsearch.hosts=http://elasticsearch:9200 - TZ=Asia/Shanghai restart: always networks: - douyin_net ports: - \u0026#34;5601:5601\u0026#34; depends_on: - elasticsearch mysql: image: mysql:latest container_name: mysql environment: TZ: Asia/Shanghai MYSQL_ROOT_PASSWORD: my-secret-pw ports: - \u0026#34;3306:3306\u0026#34; volumes: # æ•°æ®æŒ‚è½½ - Data mounting - ./data/mysql/data:/var/lib/mysql - ./data/mysql/my.cnf:/etc/my.cnf privileged: true restart: always networks: - douyin_net jobmanager: image: flink:latest container_name: jobmanager expose: - \u0026#34;6123\u0026#34; ports: - \u0026#34;8081:8081\u0026#34; command: jobmanager environment: - TZ=Asia/Shanghai - JOB_MANAGER_RPC_ADDRESS=jobmanager restart: always networks: - douyin_net taskmanager: image: flink:latest container_name: taskmanager expose: - \u0026#34;6121\u0026#34; - \u0026#34;6122\u0026#34; depends_on: - jobmanager command: taskmanager environment: - JOB_MANAGER_RPC_ADDRESS=jobmanager - TZ=Asia/Shanghai restart: always networks: - douyin_net networks: douyin_net: driver: bridge ipam: config: - subnet: 172.16.0.0/16 å…¶ä¸­mysqlæŒ‚è½½çš„é…ç½®æ–‡ä»¶å†…å®¹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 [mysqld] skip-host-cache skip-name-resolve datadir=/var/lib/mysql socket=/var/run/mysqld/mysqld.sock secure-file-priv=/var/lib/mysql-files user=mysql log-bin=mysql-bin binlog-format=ROW server_id=66 pid-file=/var/run/mysqld/mysqld.pid [client] socket=/var/run/mysqld/mysqld.sock !includedir /etc/mysql/conf.d/ ä¸»è¦æ˜¯ä¸ºäº†å¼€å¯binlog\n5. é…ç½® å…ˆå¯åŠ¨é›†ç¾¤\n1 docker-compose up -d æ£€æŸ¥binlogæ˜¯å¦å¼€å¯\n1 2 3 docker exec mysql -uroot -pmy-secret-pw show variables like \u0026#39;log_bin\u0026#39;; show variables like \u0026#39;binlog_format\u0026#39;; ä¸‹è½½mysqlã€esçš„connectorå¹¶æ‹·è´åˆ°å®¹å™¨å†…éƒ¨\nflink-sql-connector-elasticsearch7-3.0.1-1.17.jar flink-sql-connector-mysql-cdc-2.4.1.jar 1 2 3 docker cp ./flink-sql-connector-elasticsearch7-3.0.1-1.17.jar jobmanager:/opt/flink/lib/ docker cp ./flink-sql-connector-mysql-cdc-2.4.1.jar jobmanager:/opt/flink/lib/ docker restart jobmanager 6. æµ‹è¯• è¿›å…¥mysqlå®¹å™¨/è¿æ¥mysqlåˆ›å»ºmysqlæ•°æ®åº“è¡¨\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 CREATE DATABASE mydb; USE mydb; CREATE TABLE orders ( order_id INTEGER NOT NULL AUTO_INCREMENT PRIMARY KEY, order_date DATETIME NOT NULL, customer_name VARCHAR(255) NOT NULL, price DECIMAL(10, 5) NOT NULL, product_id INTEGER NOT NULL, order_status BOOLEAN NOT NULL -- Whether order has been placed ) AUTO_INCREMENT = 10001; INSERT INTO orders VALUES (default, \u0026#39;2020-07-30 10:08:22\u0026#39;, \u0026#39;Jark\u0026#39;, 50.50, 102, false), (default, \u0026#39;2020-07-30 10:11:09\u0026#39;, \u0026#39;Sally\u0026#39;, 15.00, 105, false), (default, \u0026#39;2020-07-30 12:00:30\u0026#39;, \u0026#39;Edward\u0026#39;, 25.25, 106, false); è¿›å…¥jobmanagerå®¹å™¨\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 docker exec -it jobmanager /bin/bash cd bin \u0026amp;\u0026amp; ./sql-client.sh SET execution.checkpointing.interval = 3s; CREATE TABLE orders ( order_id INT, order_date TIMESTAMP(0), customer_name STRING, price DECIMAL(10, 5), product_id INT, order_status BOOLEAN, PRIMARY KEY (order_id) NOT ENFORCED ) WITH ( \u0026#39;connector\u0026#39; = \u0026#39;mysql-cdc\u0026#39;, \u0026#39;hostname\u0026#39; = \u0026#39;192.168.2.248\u0026#39;, \u0026#39;port\u0026#39; = \u0026#39;3306\u0026#39;, \u0026#39;username\u0026#39; = \u0026#39;root\u0026#39;, \u0026#39;password\u0026#39; = \u0026#39;my-secret-pw\u0026#39;, \u0026#39;database-name\u0026#39; = \u0026#39;mydb\u0026#39;, \u0026#39;table-name\u0026#39; = \u0026#39;orders\u0026#39; ); CREATE TABLE es_orders ( order_id INT, order_date TIMESTAMP(0), customer_name STRING, price DECIMAL(10, 5), product_id INT, order_status BOOLEAN, PRIMARY KEY (order_id) NOT ENFORCED ) WITH ( \u0026#39;connector\u0026#39; = \u0026#39;elasticsearch-7\u0026#39;, \u0026#39;hosts\u0026#39; = \u0026#39;http://192.168.2.248:9200\u0026#39;, \u0026#39;index\u0026#39; = \u0026#39;orders\u0026#39; ); INSERT INTO es_orders SELECT * FROM orders; è®¿é—®kibanaæŸ¥è¯¢esæ•°æ®\n1 2 3 4 5 6 GET orders/_search { \u0026#34;query\u0026#34;:{ \u0026#34;match_all\u0026#34;: {} } } ","date":"2023-09-20T22:34:29+08:00","permalink":"https://www.cengdong.store/p/flink%E5%88%A9%E7%94%A8flink-cdc%E5%90%8C%E6%AD%A5mysql%E6%95%B0%E6%8D%AE%E5%88%B0es/","title":"ã€Flinkã€‘åˆ©ç”¨flink CdcåŒæ­¥mysqlæ•°æ®åˆ°es"},{"content":"1. é‡åˆ°çš„é—®é¢˜ï¼šä¸Šä¼ æ–‡ä»¶åˆ°é˜¿é‡Œäº‘Osså¤±è´¥ï¼Œé€šè¿‡æ—¥å¿—å®šä½åˆ°æ˜¯Linuxç³»ç»Ÿæ—¶é—´ä¸æ­£ç¡® 2. è§£å†³æ–¹æ¡ˆ 1 2 3 4 5 timedatectl set-timezone Asia/Shanghai sudo yum -y install ntp ntpdate pool.ntp.org systemctl start ntpd systemctl enable ntpd ","date":"2023-09-15T02:58:36+08:00","permalink":"https://www.cengdong.store/p/linuxcentos7%E8%A7%A3%E5%86%B3%E6%97%B6%E9%97%B4%E4%B8%8D%E6%AD%A3%E7%A1%AE%E9%97%AE%E9%A2%98/","title":"ã€Linuxã€‘Centos7è§£å†³æ—¶é—´ä¸æ­£ç¡®é—®é¢˜"},{"content":"1. ç¯å¢ƒå‡†å¤‡ M1 Mac Vmware Fusion Tech Preview ç»ˆç«¯è¿æ¥å·¥å…·Termius Centos7è™šæ‹Ÿæœºä¸‰å°ï¼Œå†…å­˜éƒ½ä¸º4Gï¼Œç£ç›˜30Gï¼Œçº¿ç¨‹æ•°ä¸º4 master: 192.168.2.3 node-1: 192.168.2.4 node-2: 192.168.2.5 2. ä¿®æ”¹ä¸»æœºå åœ¨ä¸‰å°èŠ‚ç‚¹ä¸Šéƒ½æ‰§è¡Œ\n1 2 3 4 5 cat \u0026gt;\u0026gt; /etc/hosts \u0026lt;\u0026lt; EOF 192.168.2.3 master 192.168.2.4 node-1 192.168.2.5 node-2 EOF 1 2 3 4 5 6 # masterä¸Šæ‰§è¡Œ hostnamectl set-hostname master # node-1ä¸Šæ‰§è¡Œ hostnamectl set-hostname node-1 # node-2ä¸Šæ‰§è¡Œ hostnamectl set-hostname node-2 3. å…³é—­selinuxã€swap 1 2 3 4 5 6 swapoff -a sed -i \u0026#39;s/enforcing/disabled/\u0026#39; /etc/selinux/config setenforce 0 echo \u0026#34;net.bridge.bridge-nf-call-iptables = 1 \u0026#34;\u0026gt;\u0026gt;/etc/sysctl.d/k8s.conf echo \u0026#34;net.bridge.bridge-nf-call-ip6tables = 1 \u0026#34;\u0026gt;\u0026gt;/etc/sysctl.d/k8s.conf sysctl --system 4. ipvså®‰è£… 1 2 3 4 modprobe br_netfilter echo 1 \u0026gt; /proc/sys/net/bridge/bridge-nf-call-iptables echo 1 \u0026gt; /proc/sys/net/ipv4/ip_forward lsmod | grep br_netfilter 1 yum -y install ipset ipvsadm 1 2 3 4 5 6 7 cat \u0026gt; /etc/sysconfig/modules/ipvs.modules \u0026lt;\u0026lt;EOF modprobe -- ip_vs modprobe -- ip_vs_rr modprobe -- ip_vs_wrr modprobe -- ip_vs_sh modprobe -- nf_conntrack EOF 1 chmod a+x /etc/sysconfig/modules/ipvs.modules æ‰§è¡Œè„šæœ¬ /etc/sysconfig/modules/ipvs.modules\néªŒè¯ipvsæ¨¡å— lsmod | grep -e ip_vs -e nf_conntrack_ipv4\n1 2 3 4 5 # æ‰§è¡Œè„šæœ¬ /etc/sysconfig/modules/ipvs.modules # éªŒè¯ipvsæ¨¡å— lsmod | grep -e ip_vs -e nf_conntrack_ipv4 1 2 3 4 cat \u0026lt;\u0026lt; EOF \u0026gt; /etc/modules-load.d/containerd.conf overlay br_netfilter EOF 1 2 modprobe overlay modprobe br_netfilter 5. å®‰è£…docker 1 2 3 4 5 6 7 yum install -y yum-utils yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo wget https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo -O /etc/yum.repos.d/docker-ce.repo yum install docker-ce-19.03.5 docker-ce-cli-19.03.5 systemctl enable docker systemctl start docker é…ç½®docker\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 cat \u0026lt;\u0026lt; EOF \u0026gt; /etc/docker/daemon.json { \u0026#34;insecure-registries\u0026#34;:[\u0026#34;47.99.140.12:8077\u0026#34;], \u0026#34;exec-opts\u0026#34;: [\u0026#34;native.cgroupdriver=systemd\u0026#34;], \u0026#34;registry-mirrors\u0026#34;: [ \u0026#34;https://l10nt4hq.mirror.aliyuncs.com\u0026#34;, \u0026#34;https://registry.docker-cn.com\u0026#34;, \u0026#34;http://hub-mirror.c.163.com\u0026#34;, \u0026#34;https://docker.mirrors.ustc.edu.cn\u0026#34; ] } EOF #é‡æ–°åŠ è½½æœåŠ¡çš„é…ç½®æ–‡ä»¶ systemctl daemon-reload #é‡å¯docker systemctl restart docker systemctl status docker.service 6. é…ç½®k8sæº 1 2 3 4 5 6 7 8 9 10 11 12 13 cat \u0026lt;\u0026lt;EOF \u0026gt; /etc/yum.repos.d/kubernetes.repo [kubernetes] name=Kubernetes baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-aarch64 enabled=1 gpgcheck=1 repo_gpgcheck=1 gpgkey=http://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg http://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg EOF yum clean all yum makecache 7. å®‰è£…kubeadmã€kubectlã€kubelet 1 2 3 4 5 yum install -y kubeadm-1.23.3-0 kubectl-1.23.3-0 kubelet-1.23.3-0 --disableexcludes=kubernetes # åªåœ¨masterèŠ‚ç‚¹æ‰§è¡Œ systemctl enable kubelet systemctl start kubelet 8. masterèŠ‚ç‚¹åŠ å…¥K8sé›†ç¾¤ 1 kubeadm init --image-repository registry.aliyuncs.com/google_containers --kubernetes-version v1.23.3 --apiserver-advertise-address 192.168.2.2 --pod-network-cidr=10.244.0.0/16 --service-cidr=10.1.0.0/16 9. masterèŠ‚ç‚¹éƒ¨ç½²flannelç½‘ç»œ 1 2 3 4 tar zxvf cni-plugins-linux-arm-v0.8.6.tgz cp flannel /opt/cni/bin chmod 777 /opt/cni/bin/flannel kubectl apply -f kube-flannel.yml 10. nodeèŠ‚ç‚¹åŠ å…¥k8sé›†ç¾¤ 1 2 kubeadm join 192.168.2.2:6443 --token uxohvw.84c30cwr4g6t8he8 \\ --discovery-token-ca-cert-hash sha256:cc7e139e28e61db426dc91a3ecccc0a72f26b09af6dfd12c6171d58f4359c0e5 tokenå¤±æ•ˆåé‡æ–°ç”Ÿæˆ\n1 2 3 4 5 kubeadm token create # master æ‰§è¡Œ openssl x509 -pubkey -in /etc/kubernetes/pki/ca.crt | openssl rsa -pubin -outform der 2\u0026gt;/dev/null | openssl dgst -sha256 -hex | sed \u0026#39;s/^.* //\u0026#39; 11. nodeèŠ‚ç‚¹åŠ å…¥flannelç½‘ç»œ 1 2 3 4 5 6 7 8 # å­èŠ‚ç‚¹ä¸Šåˆ›å»ºæ–‡ä»¶å¤¹ mkdir -p /etc/cni/net.d # masterèŠ‚ç‚¹æ‹·è´æ–‡ä»¶åˆ°nodeèŠ‚ç‚¹ scp /etc/cni/net.d/10-flannel.conflist root@192.168.2.3:/etc/cni/net.d systemctl daemon-reload systemctl restart kubelet ","date":"2023-08-28T19:51:03+08:00","permalink":"https://www.cengdong.store/p/kubernetesarm%E6%9E%B6%E6%9E%84centos7%E9%80%9A%E8%BF%87kubeadm%E5%AE%89%E8%A3%85k8s%E9%9B%86%E7%BE%A4/","title":"ã€Kubernetesã€‘armæ¶æ„Centos7é€šè¿‡kubeadmå®‰è£…k8sé›†ç¾¤"},{"content":"1. èµ·å›  æœ€è¿‘åœ¨å­¦ä¹ go-zeroæ¡†æ¶ï¼ŒæŠŠfaker-douyiné¡¹ç›®é‡æ„æˆå¾®æœåŠ¡é¡¹ç›®ã€‚åœ¨é‡æ„çš„è¿‡ç¨‹ä¸­æœ‰ä¸€äº›å˜åŠ¨ï¼š\nåŸæ¥ä½¿ç”¨æœ¬åœ°è™šæ‹Ÿæœºæ„å»ºæœåŠ¡ä¸­é—´ä»¶ä¾èµ–ï¼Œç°åœ¨ä½¿ç”¨é˜¿é‡Œäº‘çš„æœåŠ¡ åŸæ¥ä¸Šä¼ è§†é¢‘æ—¶ç›´æ¥é€šè¿‡ftpä¸Šä¼ åˆ°è™šæ‹Ÿæœºï¼Œç°åœ¨ç›´æ¥ä¸Šä¼ åˆ°é˜¿é‡Œäº‘oss åœ¨ä»£ç ä¸Šä¼ githubä¸Šä¹‹åï¼Œé˜¿é‡Œäº‘å‘ç°æˆ‘çš„accessKeyåœ¨githubä¸Šæ³„æ¼ï¼ˆä¸»è¦æ˜¯æˆ‘å®‰å…¨æ„è¯†ä¸å¥½ï¼‰\n2. è§£å†³åŠæ³• ä½¿ç”¨.gitignoreæ–‡ä»¶ä½¿gitå¿½è§†é…ç½®æ–‡ä»¶ä¸Šä¼  åœ¨.gitignoreæ–‡ä»¶ä¸­æ·»åŠ .yamlå¿½è§†æ‰€æœ‰yamlç±»å‹æ–‡ä»¶ 3. é‡åˆ°é—®é¢˜ æ›´æ”¹.gitignoreæ–‡ä»¶ä¹‹åï¼Œæœ¬åœ°ä»“åº“æ²¡æœ‰ç”Ÿæ•ˆï¼ˆæ²¡æœ‰åˆ é™¤gitignoreæ–‡ä»¶åŒ¹é…çš„æ–‡ä»¶ï¼‰\n4. è§£å†³åŠæ³• 1 2 3 4 git rm --cached -r . git add . git commit -am \u0026#39;æ³¨é‡Š\u0026#39; git push ","date":"2023-08-12T15:00:13+08:00","permalink":"https://www.cengdong.store/p/git%E6%B7%BB%E5%8A%A0gitignore%E6%96%87%E4%BB%B6%E4%B9%8B%E5%90%8E%E5%88%A0%E9%99%A4github%E4%B8%8A%E5%A4%9A%E4%B8%8A%E4%BC%A0%E7%9A%84%E6%96%87%E4%BB%B6/","title":"ã€Gitã€‘æ·»åŠ gitignoreæ–‡ä»¶ä¹‹ååˆ é™¤githubä¸Šå¤šä¸Šä¼ çš„æ–‡ä»¶"},{"content":"1. ä»‹ç» RabbitMQ is the most widely deployed open source message broker.\nç›´æ¥æŠŠRabbitMQå®˜ç½‘çš„ä»‹ç»æŠ„è¿‡æ¥ï¼šå®ƒæ˜¯éƒ¨ç½²æœ€å¹¿æ³›çš„æ¶ˆæ¯ä»£ç†\n2. ä½œç”¨ æ¶ˆæ¯ä»£ç†ä¸­é—´ä»¶çš„ä½œç”¨ï¼š\nå‰Šå³°ï¼šå¤§é‡è¯·æ±‚å†™å…¥æ¶ˆæ¯ä¸­é—´ä»¶ï¼ŒæœåŠ¡å™¨æŒ‰ç…§è‡ªå·±èƒ½åŠ›å»æ¶ˆè´¹ è§£è€¦ï¼šæœåŠ¡ä¸Šæ¸¸ä¸ä¸‹æ¸¸è§£è€¦ï¼Œä¸Šæ¸¸åªéœ€æŠŠè¯·æ±‚å†™å…¥æ¶ˆæ¯ä»£ç†ï¼Œä¸‹æ¸¸åªéœ€è¦å»æ¶ˆæ¯ä¸­é—´ä»¶æ¶ˆè´¹ å¼‚æ­¥ï¼šå®æ—¶æ€§ä¸é«˜çš„åŠŸèƒ½æ”¾å…¥ä»£ç†ï¼Œå¿«é€Ÿå“åº”å®¢æˆ·ç«¯è¯·æ±‚ 3. ç«å“ ActiveMQ(å·²ç»å¯„äº†) RocketMQï¼ˆé˜¿é‡Œå¼€æºï¼Œå¹¿æ³›åº”ç”¨åœ¨ç”µå•†åœºæ™¯ï¼‰ Kafkaï¼ˆå¤§æ•°æ®åˆ©å™¨ï¼Œæ—¥å¿—ç³»ç»Ÿé‡è¦ç»„ä»¶ï¼‰ 4. ç³»ç»Ÿæ¶æ„ ç”Ÿäº§è€…ï¼šæ¶ˆæ¯å‘é€æ–¹ channelï¼šé€šä¿¡ä¿¡é“ï¼Œä¸€ä¸ªè¿æ¥é‡Œæœ‰å¤šä¸ªå¯ç”¨ä¿¡é“ï¼ˆæ„Ÿè§‰æ˜¯èµ„æºæ± ï¼‰ï¼Œç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…éƒ½ä¼šä¸brokerå»ºç«‹è¿æ¥ exchangeï¼šäº¤æ¢æœºï¼Œç”Ÿäº§è€…å°†æ¶ˆæ¯å‘é€ç»™å¯¹åº”äº¤æ¢æœºï¼ˆç”Ÿäº§è€…åªä¸äº¤æ¢æœºæ‰“äº¤é“ï¼‰ï¼Œäº¤æ¢æœºé€šè¿‡routingKeyå°†æ¶ˆæ¯å‘é€ç»™æ¶ˆæ¯é˜Ÿåˆ— queueï¼šæ¶ˆæ¯é˜Ÿåˆ—ï¼Œå­˜æ”¾æ¶ˆæ¯çš„å®ä½“ æ¶ˆè´¹è€…ï¼šä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­æ¶ˆè´¹æ¶ˆæ¯ è™šæ‹Ÿä¸»æœºï¼šå¤šç§Ÿæˆ·çš„èµ„æºéš”ç¦»ï¼ˆä¸æƒ³æ·±å…¥ï¼Œä¹Ÿä¸åšè¿‡å¤šäº†è§£ï¼‰ 5. å·¥ä½œæ¨¡å¼ RabbitMQå®˜æ–¹ç»™å‡ºäº†ä¸ƒç§å·¥ä½œæ¨¡å¼\nHello World Work Queues Publish/Subscribe Routing Topics RPC Publisher confirms 6. å®‰è£…RabbitMQ æˆ‘çš„è™šæ‹Ÿæœºå·²ç»å®‰è£…å¥½Dockerï¼Œé€šè¿‡Dockerå®‰è£…å¸¦webå¯è§†åŒ–æ’ä»¶çš„RabbitMQï¼Œå…¶ä¸­5672æ˜¯æœåŠ¡ç«¯çš„ç«¯å£ï¼Œ15672æ˜¯webå¯è§†åŒ–çš„ç«¯å£\n1 docker run --name rabbit --restart=always -p 15672:15672 -p 5672:5672 -d rabbitmq:management è®¿é—®webç®¡ç†ç•Œé¢ï¼Œç”¨æˆ·åå¯†ç éƒ½æ˜¯guest\n7. åˆ›å»ºé¡¹ç›® åˆ›å»ºç›®å½•ï¼šmkdir rabbitmq-demo åˆå§‹åŒ–é¡¹ç›®ï¼šgo mod init rabbitmq-demo goå®¢æˆ·ç«¯é€‰ç”¨ï¼šè€è§„çŸ©ï¼Œæœ€å¤šstarçš„é¡¹ç›®ï¼Œè™½ç„¶å·²ç»åœæ­¢ç»´æŠ¤å¾ˆä¹…äº†github.com/streadway/amqp 8. å‘é€æ¶ˆæ¯ï¼šä»¥ç®€å•æ¨¡å¼ä¸ºä¾‹ ç®€å•æ¨¡å¼å°±æ˜¯ç‚¹å¯¹ç‚¹çš„æ¶ˆæ¯ä¼ è¾“æ¨¡å‹ï¼Œå®˜ç½‘ç§°ä¹‹ä¸ºHello Worldæ¨¡å¼ã€‚ç”Ÿäº§è€…å‘é€æ¶ˆæ¯ç»™æŒ‡å®šé˜Ÿåˆ—ï¼Œæ¶ˆè´¹è€…ä»æŒ‡å®šé˜Ÿåˆ—æ¶ˆè´¹æ¶ˆæ¯ï¼Œå…¶ä¸­ç”Ÿäº§è€…ä»¥åŠæ¶ˆè´¹è€…éƒ½ç»‘å®šçš„æ˜¯é»˜è®¤äº¤æ¢æœºã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 package main import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/streadway/amqp\u0026#34; ) const url = \u0026#34;amqp://guest:guest@192.168.18.3:5672/\u0026#34; func main() { // è¿æ¥æœåŠ¡å™¨ conn, err := amqp.Dial(url) if err != nil { fmt.Println(err) } defer conn.Close() // è·å–channel channel, err := conn.Channel() defer channel.Close() if err != nil { fmt.Println(err) } // å£°æ˜é˜Ÿåˆ— queue, err := channel.QueueDeclare(\u0026#34;test\u0026#34;, false, false, false, false, nil) if err != nil { fmt.Println(err) } // å‘å¸ƒæ¶ˆæ¯ err = channel.Publish(\u0026#34;\u0026#34;, queue.Name, false, false, amqp.Publishing{ContentType: \u0026#34;text/plain\u0026#34;, Body: []byte(\u0026#34;hello world\u0026#34;)}) if err != nil { fmt.Println(err) } } 9. æ¥å—æ¶ˆæ¯ï¼šä»¥ç®€å•æ¨¡å¼ä¸ºä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 package main import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/streadway/amqp\u0026#34; ) const rabbit_url = \u0026#34;amqp://guest:guest@192.168.18.3:5672/\u0026#34; func main() { // é“¾æ¥æœåŠ¡å™¨ conn, err := amqp.Dial(rabbit_url) if err != nil { fmt.Println(err) } defer conn.Close() // å»ºç«‹é“¾æ¥ channel, err := conn.Channel() if err != nil { fmt.Println(err) } defer channel.Close() // å£°æ˜é˜Ÿåˆ— queue, err := channel.QueueDeclare(\u0026#34;test\u0026#34;, false, false, false, false, nil) if err != nil { fmt.Println(err) } // æ¶ˆè´¹æ¶ˆæ¯ msg, err := channel.Consume(queue.Name, \u0026#34;\u0026#34;, true, false, false, false, nil) if err != nil { fmt.Println(err) } // éå†ç®¡é“ï¼Œè¯»å–æ¶ˆæ¯ for d := range msg { fmt.Println(string(d.Body)) } } 10. å¦‚ä½•ä¿éšœæ¶ˆæ¯ä¸ä¸¢å¤± 10.1 æ¶ˆæ¯åº”ç­”æœºåˆ¶ RabbitMQæœ‰ä¸¤ç§æ¶ˆæ¯åº”ç­”æœºåˆ¶ï¼šè‡ªåŠ¨åº”ç­”å’Œæ‰‹åŠ¨åº”ç­”ï¼Œè‡ªåŠ¨åº”ç­”å³NOACKï¼Œä¸éœ€è¦æ¥æ”¶æ–¹å›åº”ACKæ¶ˆæ¯ï¼Œé»˜è®¤æ˜¯è¿™ç§åº”ç­”æ–¹å¼ã€‚è¦å¼€å¯æ‰‹åŠ¨åº”ç­”ï¼Œé¦–å…ˆè¦æŠŠchannel.Consumeæ–¹æ³•çš„ç¬¬ä¸‰ä¸ªå‚æ•°è®¾ç½®ä¸ºfalse\n1 func (ch *Channel) Consume(queue, consumer string, autoAck, exclusive, noLocal, noWait bool, args Table) (\u0026lt;-chan Delivery, error) è¿˜éœ€è¦åœ¨æ¶ˆè´¹æ¶ˆæ¯æ—¶è°ƒç”¨Ackæˆ–Rejectæˆ–Nackæ–¹æ³•\n1 func (d Delivery) Ack(multiple bool) error 10.2 æ¶ˆæ¯æŒä¹…åŒ– è¦ä¿éšœæ¶ˆæ¯ä¸ä¸¢å¤±ï¼Œå°±è¦ä¿éšœæ¶ˆæ¯çš„æŒä¹…åŒ–ï¼Œé¿å…æœåŠ¡å™¨æ•…éšœæˆ–é‡å¯æ—¶å†…å­˜ä¸­çš„æ¶ˆæ¯ä¸¢å¤±ã€‚æ¶ˆæ¯æŒä¹…åŒ–åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šé˜Ÿåˆ—æŒä¹…åŒ–ã€æ¶ˆæ¯æŒä¹…åŒ–ã€‚\né˜Ÿåˆ—æŒä¹…åŒ–éœ€è¦åœ¨å£°æ˜é˜Ÿåˆ—æ—¶æŠŠå‚æ•°durableä¼ ä¸ºtrue\n1 func (ch *Channel) QueueDeclare(name string, durable, autoDelete, exclusive, noWait bool, args Table) (Queue, error) æ¶ˆæ¯æŒä¹…åŒ–éœ€è¦åœ¨å®ä¾‹åŒ–æ¶ˆæ¯æ—¶æŠŠPublishingç»“æ„ä½“çš„DeliveryModeå­—æ®µè®¾ç½®ä¸ºPersistent\n1 2 3 4 5 6 channel.Publish(\u0026#34;\u0026#34;, queue.Name, false, false, amqp.Publishing{ DeliveryMode: amqp.Persistent, ContentType: \u0026#34;text/plain\u0026#34;, Body: []byte(\u0026#34;hello world\u0026#34;), } ) 10.3 ç”Ÿäº§æ–¹å‘å¸ƒç¡®è®¤ ç”Ÿäº§æ–¹å‘å¸ƒç¡®è®¤åˆå«å‘å¸ƒç¡®è®¤æ¨¡å¼ï¼Œæ˜¯ä¸€ç§ä¿éšœç”Ÿäº§æ–¹èƒ½ç¡®è®¤å‘å¸ƒæ¶ˆæ¯åˆ°Brokerçš„æœºåˆ¶\nè¦å¼€å¯å‘å¸ƒç¡®è®¤æ¨¡å¼éœ€è¦è°ƒç”¨channel.Conformæ–¹æ³•\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 /* Confirm puts this channel into confirm mode so that the client can ensure all publishings have successfully been received by the server. After entering this mode, the server will send a basic.ack or basic.nack message with the deliver tag set to a 1 based incremental index corresponding to every publishing received after the this method returns. Add a listener to Channel.NotifyPublish to respond to the Confirmations. If Channel.NotifyPublish is not called, the Confirmations will be silently ignored. The order of acknowledgments is not bound to the order of deliveries. Ack and Nack confirmations will arrive at some point in the future. Unroutable mandatory or immediate messages are acknowledged immediately after any Channel.NotifyReturn listeners have been notified. Other messages are acknowledged when all queues that should have the message routed to them have either received acknowledgment of delivery or have enqueued the message, persisting the message if necessary. When noWait is true, the client will not wait for a response. A channel exception could occur if the server does not support this method. */ func (ch *Channel) Confirm(noWait bool) error { if err := ch.call( \u0026amp;confirmSelect{Nowait: noWait}, \u0026amp;confirmSelectOk{}, ); err != nil { return err } ch.confirmM.Lock() ch.confirming = true ch.confirmM.Unlock() return nil } å†è°ƒç”¨NotifyPublishæ–¹æ³•æˆ–NotifyConfirmæ³¨å†Œå‘å¸ƒæ¶ˆæ¯çš„å›è°ƒå‡½æ•°\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 /* NotifyConfirm calls NotifyPublish and starts a goroutine sending ordered Ack and Nack DeliveryTag to the respective channels. For strict ordering, use NotifyPublish instead. */ func (ch *Channel) NotifyConfirm(ack, nack chan uint64) (chan uint64, chan uint64) { confirms := ch.NotifyPublish(make(chan Confirmation, cap(ack)+cap(nack))) go func() { for c := range confirms { if c.Ack { ack \u0026lt;- c.DeliveryTag } else { nack \u0026lt;- c.DeliveryTag } } close(ack) if nack != ack { close(nack) } }() return ack, nack } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 /* NotifyPublish registers a listener for reliable publishing. Receives from this chan for every publish after Channel.Confirm will be in order starting with DeliveryTag 1. There will be one and only one Confirmation Publishing starting with the delivery tag of 1 and progressing sequentially until the total number of Publishings have been seen by the server. Acknowledgments will be received in the order of delivery from the NotifyPublish channels even if the server acknowledges them out of order. The listener chan will be closed when the Channel is closed. The capacity of the chan Confirmation must be at least as large as the number of outstanding publishings. Not having enough buffered chans will create a deadlock if you attempt to perform other operations on the Connection or Channel while confirms are in-flight. It\u0026#39;s advisable to wait for all Confirmations to arrive before calling Channel.Close() or Connection.Close(). */ func (ch *Channel) NotifyPublish(confirm chan Confirmation) chan Confirmation { ch.notifyM.Lock() defer ch.notifyM.Unlock() if ch.noNotify { close(confirm) } else { ch.confirms.Listen(confirm) } return confirm } 11. å·¥ä½œé˜Ÿåˆ—æ¨¡å¼ 11.1 å…¬å¹³è°ƒåº¦çš„å·¥ä½œé˜Ÿåˆ—æ¨¡å¼ å·¥ä½œé˜Ÿåˆ—æ¨¡å¼ç±»ä¼¼äºKafkaçš„æ¶ˆè´¹è€…ç»„ï¼Œä¸ºäº†æé«˜æ¶ˆè´¹è€…çš„æ¶ˆè´¹èƒ½åŠ›ã€‚ç”Ÿäº§è€…ä»£ç ä¸ç®€å•æ¨¡å¼ä¸€è‡´ï¼Œä¸ºäº†èƒ½ä»å‘½ä»¤è¡Œæ§åˆ¶è¦å‘é€çš„æ¶ˆæ¯ï¼Œåšä¸€äº›æ”¹é€ ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 package main import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/streadway/amqp\u0026#34; \u0026#34;os\u0026#34; \u0026#34;strings\u0026#34; ) const url = \u0026#34;amqp://guest:guest@47.99.140.12:5672/\u0026#34; func main() { connection, err := amqp.Dial(url) if err != nil { fmt.Println(err) } defer connection.Close() channel, err := connection.Channel() if err != nil { fmt.Println(err) } defer channel.Close() queue, err := channel.QueueDeclare(\u0026#34;work_queues\u0026#34;, true, false, false, false, nil) if err != nil { fmt.Println(err) } body := bodyFrom(os.Args) err = channel.Publish(\u0026#34;\u0026#34;, queue.Name, false, false, amqp.Publishing{ ContentType: \u0026#34;text/plain\u0026#34;, DeliveryMode: amqp.Persistent, Body: []byte(body), }) if err != nil { fmt.Println(err) } fmt.Printf(\u0026#34;send msg %s\u0026#34;, body) } func bodyFrom(args []string) string { var s string if len(args) \u0026lt; 2 || os.Args[1] == \u0026#34;\u0026#34; { s = \u0026#34;hello\u0026#34; } else { s = strings.Join(args[1:], \u0026#34; \u0026#34;) } return s } æ¶ˆè´¹è€…ä»£ç ä¹Ÿä¸ç®€å•æ¨¡å¼ä¸€è‡´ï¼Œä¸ºäº†èƒ½ä»å¤šä¸ªæ¶ˆè´¹è€…åŒºåˆ†å·®å¼‚ï¼Œå¯¹æ¶ˆæ¯åšäº†ä¸€äº›è™šå‡çš„ä¸šåŠ¡å¤„ç†ï¼ˆæŒ‰ç…§æ¶ˆæ¯ä¸­å­—ç¬¦.çš„ä¸ªæ•°ç¡çœ ç›¸åº”ç§’æ•°ï¼‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 package main import ( \u0026#34;bytes\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/streadway/amqp\u0026#34; \u0026#34;time\u0026#34; ) const rabbit_url = \u0026#34;amqp://guest:guest@47.99.140.12:5672/\u0026#34; func main() { connection, err := amqp.Dial(rabbit_url) if err != nil { fmt.Println(err) } defer connection.Close() channel, err := connection.Channel() if err != nil { fmt.Println(err) } defer channel.Close() queue, err := channel.QueueDeclare(\u0026#34;work_queues\u0026#34;, true, false, false, false, nil) if err != nil { fmt.Println(err) } deliveries, err := channel.Consume(queue.Name, \u0026#34;\u0026#34;, true, false, false, false, nil) if err != nil { fmt.Println(err) } for delivery := range deliveries { fmt.Printf(\u0026#34;receive work: %s\\n\u0026#34;, delivery.Body) dotCount := bytes.Count(delivery.Body, []byte(\u0026#34;.\u0026#34;)) d := time.Duration(dotCount) time.Sleep(d * time.Second) fmt.Printf(\u0026#34;work done after %d\\n\u0026#34;, d) } } å…ˆåˆ†åˆ«åœ¨ä¸¤ä¸ªç»ˆç«¯ä¸­å¯åŠ¨ä¸¤ä¸ªæ¶ˆè´¹è€…\n1 go run receive.go å†å¯åŠ¨ç”Ÿäº§è€…å‘é€å¤šæ¡æ¶ˆæ¯\n1 2 3 4 5 go run send.go First Message. go run send.go Second Message.. go run send.go Third Message... go run send.go Fourth message.... go run send.go Fifth message..... ç”Ÿäº§è€… æ¶ˆè´¹è€…1 æ¶ˆè´¹è€…2 æ¶ˆè´¹è€…1æ¶ˆè´¹äº†æ¶ˆæ¯135ï¼Œæ¶ˆè´¹è€…2æ¶ˆè´¹äº†æ¶ˆæ¯24ï¼Œè¿™æ ·æé«˜äº†æ¶ˆè´¹è€…æ¶ˆè´¹çš„èƒ½åŠ›ï¼Œå¹¶ä¸”ç”±äºå·¥ä½œé˜Ÿåˆ—æ¨¡å¼é»˜è®¤çš„æ¶ˆæ¯åˆ†å‘æœºåˆ¶æ˜¯è½®è¯¢ï¼Œå®˜ç½‘ç§°ä¹‹ä¸ºFair dispatch(å…¬å¹³è°ƒåº¦)\nå½“æœ‰å¤šä¸ªæ¶ˆè´¹è€…æ—¶ï¼Œæ¯ä¸ªæ¶ˆè´¹è€…çš„æ¶ˆè´¹èƒ½åŠ›ä¸ä¸€æ ·ï¼Œè½®è¯¢çš„æ–¹å¼ä¼šæœ‰é—®é¢˜ã€‚\n11.2 è®¾ç½®é¢„å–å€¼çš„å·¥ä½œé˜Ÿåˆ—æ–¹å¼ ä¸ºäº†è§£å†³å…¬å¹³è°ƒåº¦å¸¦æ¥çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å°†é¢„å–è®¡æ•°è®¾ç½®ä¸ºå€¼1ã€‚è¿™å‘Šè¯‰RabbitMQä¸è¦ä¸€æ¬¡å‘ä¸€ä¸ªworkeræä¾›å¤šæ¡æ¶ˆæ¯ã€‚\næˆ–è€…ï¼Œæ¢å¥è¯è¯´ï¼Œåœ¨workerå¤„ç†å¹¶ç¡®è®¤å‰ä¸€æ¡æ¶ˆæ¯ä¹‹å‰ï¼Œä¸è¦å‘workerå‘é€æ–°æ¶ˆæ¯ã€‚ç›¸åï¼Œå®ƒä¼šå°†å…¶è°ƒåº¦ç»™ä¸‹ä¸€ä¸ªå°šæœªç¹å¿™çš„å·¥ä½œäººå‘˜ã€‚\nè®¾ç½®é¢„å–å€¼éœ€è¦è°ƒç”¨channel.Qosæ–¹æ³•\n1 2 3 4 5 6 7 8 9 10 11 # é€šå¸¸è®¾ç½® prefetchCount = 1 prefetchSize = 0 global = false func (ch *Channel) Qos(prefetchCount, prefetchSize int, global bool) error { return ch.call( \u0026amp;basicQos{ PrefetchCount: uint16(prefetchCount), PrefetchSize: uint32(prefetchSize), Global: global, }, \u0026amp;basicQosOk{}, ) } ","date":"2023-07-31T00:02:07+08:00","permalink":"https://www.cengdong.store/p/gorabbitmq%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","title":"ã€Goã€‘RabbitMQå­¦ä¹ ç¬”è®°"}]